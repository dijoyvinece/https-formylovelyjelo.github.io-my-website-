<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Open Whenâ€¦ ğŸŒ™</title>
<link rel="stylesheet" href="style.css">
</head>
<body class="romantic-bg">

<div class="card">
  <h1>ğŸŒ™ Open Whenâ€¦</h1>
  <p>Each letter can be opened only once ğŸ’Œ</p>
  <h5>â€œI thought about your hardest moments, my Love.â€</h5>

  <button onclick="openLetter('sleep')">ğŸŒ™ Open when you canâ€™t sleep</button>
  <button onclick="openLetter('fight')">ğŸ’” Open when we fight</button>
  <button onclick="openLetter('tired')">ğŸ¥º Open when youâ€™re tired of everything</button>
  <button onclick="openLetter('remember')">ğŸ’– Open when you need to remember us</button>

  <br><br>
  <button onclick="location.href='index.html'">Back to Home</button>
</div>

<script>
function openLetter(type) {
  const opened = localStorage.getItem("opened_" + type);

  if (opened) {
    alert("ğŸ”’ This letter was already opened once.");
    return;
  }

  // ğŸŒ™ Night-only lock (10PMâ€“5AM)
  const hour = new Date().getHours();
  if (hour < 22 && hour > 5) {
    alert("ğŸŒ™ This letter can only be opened after 10PM.");
    return;
  }

  window.location.href = `open-when-letter.html?type=${type}`;
}
</script>

</body>
</html>
